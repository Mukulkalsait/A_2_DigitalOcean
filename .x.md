# Linux VM + LXD + Nginx Setup Checklist

## Phase 1: VM & SSH Basics
- [ ] Create cloud VM (1GB RAM, 1 vCPU)
- [ ] Add SSH key during VM creation
- [ ] SSH into VM as root
- [ ] Verify system info (`whoami`, `uname -a`, `lsb_release -a`)
- [ ] Set correct timezone (`timedatectl`)
- [ ] Create non-root user
- [ ] Set password for user
- [ ] Add user to sudo group
- [ ] Copy SSH keys to user account
- [ ] Test SSH login as user

---

## Phase 2: SSH Hardening

- [ ] Disable root SSH login
- [ ] Disable password authentication
- [ ] Enable key-based authentication only
- [ ] Restrict SSH access to specific user
- [ ] Configure SSH keepalive settings
- [ ] Test SSH configuration (`sshd -t`)
- [ ] Reload SSH service
- [ ] Verify root login is blocked
- [ ] Verify user login works

---

## Phase 3: Firewall (UFW)
- [ ] Enable UFW
- [ ] Set default deny incoming
- [ ] Set default allow outgoing
- [ ] Allow SSH (port 22)
- [ ] Allow HTTP (port 80)
- [ ] Allow container access port (8080)
- [ ] Verify firewall status

---

## Phase 4: Host Nginx Setup
- [ ] Install Nginx on host VM
- [ ] Start and enable Nginx service
- [ ] Modify default index page
- [ ] Verify host Nginx via browser (`http://<ip>`)

---

## Phase 5: LXD Setup
- [ ] Install LXD
- [ ] Initialize LXD (`lxd init`)
- [ ] Create LXD container
- [ ] Start container
- [ ] Access container shell

---

## Phase 6: Container Nginx
- [ ] Install Nginx inside container
- [ ] Start Nginx inside container
- [ ] Modify container Nginx index page
- [ ] Verify container Nginx internally

---

## Phase 7: Host ↔ Container Port Proxy
- [ ] Add LXD proxy device (8080 → 80)
- [ ] Verify proxy device configuration
- [ ] Access container service via browser (`http://<ip>:8080`)

---

## Final Verification
- [ ] `http://<ip>` → Host Nginx page
- [ ] `http://<ip>:8080` → LXD container Nginx page
- [ ] Confirm isolation between host and container

---

## Outcome
- Secure Linux VM
- Hardened SSH access
- Active firewall
- Public service on host
- Isolated service inside container
- Clean, production-style architecture

